<span *ngIf="!student">Proszę poczekać...</span>
<div class="container" *ngIf="student">
    <form (ngSubmit)="onSubmit()" #studentForm="ngForm">
        <div class="form-group">
            <label for="firstname">Imię:</label>
            <input type="text" class="form-control" id="firstname"
                   required maxlength="20" pattern="[a-zA-Z]{0,20}"
                   [(ngModel)]="student.FirstName"
                   name="firstname"
                   #firstName="ngModel" />
            <div [hidden]="firstName.valid || firstName.pristine"
                 class="alert alert-danger">
                Imię jest wymagane. Może składać się wyłącznie z liter.
            </div>
        </div>
        <div class="form-group">
            <label for="lastname">Nazwisko:</label>
            <input type="text" class="form-control" id="lastname"
                   required maxlength="20" pattern="[a-zA-Z]{0,20}"
                   [(ngModel)]="student.LastName"
                   name="lastname"
                   #lastName="ngModel" />
            <div [hidden]="lastName.valid || lastName.pristine"
                 class="alert alert-danger">
                Nazwisko jest wymagane. Może składać się wyłącznie z liter.
            </div>
        </div>
        <div class="form-group">
            <label for="pesel">Pesel:</label>
            <input type="text" class="form-control" id="pesel"
                   required maxlength="11" pattern="[0-9]{11}"
                   [(ngModel)]="student.PESEL"
                   name="pesel"
                   #pesel="ngModel" />
            <div [hidden]="pesel.valid || pesel.pristine"
                 class="alert alert-danger">
                Pesel jest wymagany. Składa się tylko z cyfr.
            </div>
        </div>

        <div class="form-group">
            <label for="birthday">Data urodzenia:</label>
            <span *ngIf="student.DateOfBirth">{{student.DateOfBirth | date:'y-MM-dd'}}</span>
            <input type="date" class="form-control" id="birthday"
                   [(ngModel)]="student.DateOfBirth"
                   name="birthday"
                   #birthday="ngModel" />
            <div *ngIf="!student.birthday" class="alert alert-danger">
                Data urodzenia jest wymagana
            </div>
        </div>
        <div class="form-group">
            <label for="city">Miasto:</label>
            <input type="text" class="form-control" id="city"
                   required maxlength="20"
                   [(ngModel)]="student.City"
                   name="city"
                   #city="ngModel" />
            <div [hidden]="city.valid || city.pristine"
                 class="alert alert-danger">
                Miasto jest wymagane
            </div>
        </div>
        <div class="form-group">
            <label for="addres">Adres:</label>
            <input type="text" class="form-control" id="addres"
                   required maxlength="20"
                   [(ngModel)]="student.Address"
                   name="addres"
                   #addres="ngModel" />
            <div [hidden]="addres.valid || addres.pristine"
                 class="alert alert-danger">
                Adres jest wymagane
            </div>
        </div>
        <div class="form-group">
            <label for="album">Numer albumu:</label>
            <input type="text" class="form-control" id="album"
                   required pattern="[0-9]{6}" maxlength="6" placeholder="123456"
                   [(ngModel)]="student.AlbumNumber"
                   name="album"
                   #album="ngModel" />
            <div [hidden]="album.valid || album.pristine"
                 class="alert alert-danger">
                Numer albumu jest wymagany. Numer albumu powinien składać się tylko z cyfr.
            </div>
        </div>
        <button type="submit" class="btn btn-default" [disabled]="!studentForm.form.valid || !student.DateOfBirth">Wyślij</button>
        <button type="button" class="btn btn-default" (click)="goBack()">Powrót</button>
    </form>
</div>
<span *ngIf="error" class="alert alert-danger">{{error}}</span>